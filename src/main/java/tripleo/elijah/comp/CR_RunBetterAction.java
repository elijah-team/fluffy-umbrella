package tripleo.elijah.comp;

import tripleo.elijah.comp.internal.CB_Output;
import tripleo.elijah.comp.internal.CR_State;
import tripleo.elijah.comp.internal.StageToRuntime;

class CR_RunBetterAction implements CR_Action {
	@Override
	public void attach(final CompilationRunner cr) {

	}

	@Override
	public void execute(final CR_State st, final CB_Output aO) {
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		st.rt = StageToRuntime.get(st.ca().getStage(), st.ca(), st.pr, null);
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/
		/********************/

		try {
			st.rt.run_better();
		} catch (final Exception aE) {
			throw new RuntimeException(aE); // FIXME
		}
	}

	@Override
	public String name() {
		return "run better";
	}
}
